{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mrtec\\\\CHTT\\\\React-Node-Socket.IO-Chat\\\\client\\\\src\\\\Chat.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport ScrollToBottom from \"react-scroll-to-bottom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Chat(_ref) {\n  _s();\n\n  let {\n    socket,\n    username,\n    room\n  } = _ref;\n  const [currentMessage, setCurrentMessage] = useState(\"\");\n  const [messageList, setMessageList] = useState([]);\n  const [status, setStatus] = useState(\"\");\n\n  const sendMessage = async () => {\n    if (currentMessage !== \"\") {\n      const messageData = {\n        room: room,\n        author: username,\n        message: currentMessage,\n        time: `${new Date(Date.now()).getHours()}:${new Date(Date.now()).getHours()}`\n      };\n      await socket.emit(\"send_message\", messageData);\n      setMessageList(list => [...list, messageData]);\n      setCurrentMessage(\"\");\n    }\n  };\n\n  useEffect(() => {\n    socket.on(\"receive_message\", data => {\n      setMessageList(list => [...list, data]);\n    });\n    socket.on(\"display_typing_status\", data => {\n      if (data.typing === true) {\n        setStatus(`${data.user} is Typing...`);\n      } else {\n        setStatus(\"\");\n      }\n    });\n    return () => {\n      socket.off(\"receive_message\");\n      socket.off(\"display\");\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat-wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-header\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"chat-heading\",\n        children: [\"Live Chat\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"chat-typing-status\",\n          children: status\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-body\",\n      children: /*#__PURE__*/_jsxDEV(ScrollToBottom, {\n        className: \"chat-body-inner\",\n        children: messageList.map((messageItem, index) => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `message-wrapper ${username === messageItem.author ? \"you\" : \"other\"}`,\n            children: [/*#__PURE__*/_jsxDEV(\"article\", {\n              className: \"message\",\n              children: messageItem.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"author-time\",\n              children: [messageItem.time, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: messageItem.author\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 10\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 9\n            }, this)]\n          }, index.toString(), true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 8\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-footer\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Hey...\",\n        value: currentMessage,\n        onChange: event => {\n          setCurrentMessage(event.target.value);\n        },\n        onKeyPress: async event => {\n          if (event.key === \"Enter\") {\n            sendMessage();\n          }\n        },\n        onKeyDown: async event => {\n          await socket.emit(\"typing\", {\n            user: username,\n            room: room,\n            typing: true\n          });\n        },\n        onBlur: async event => {\n          await socket.emit(\"typing\", {\n            user: username,\n            room: room,\n            typing: false\n          });\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: sendMessage,\n        children: \"\\u25BA\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 3\n  }, this);\n}\n\n_s(Chat, \"s9oYu4FaCib+msjB3T9LfAM6ZOw=\");\n\n_c = Chat;\nexport default Chat;\n\nvar _c;\n\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["React","useEffect","useState","ScrollToBottom","Chat","socket","username","room","currentMessage","setCurrentMessage","messageList","setMessageList","status","setStatus","sendMessage","messageData","author","message","time","Date","now","getHours","emit","list","on","data","typing","user","off","map","messageItem","index","toString","event","target","value","key"],"sources":["C:/Users/mrtec/CHTT/React-Node-Socket.IO-Chat/client/src/Chat.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport ScrollToBottom from \"react-scroll-to-bottom\";\r\n\r\nfunction Chat({ socket, username, room }) {\r\n\tconst [currentMessage, setCurrentMessage] = useState(\"\");\r\n\tconst [messageList, setMessageList] = useState([]);\r\n\tconst [status, setStatus] = useState(\"\");\r\n\r\n\tconst sendMessage = async () => {\r\n\t\tif (currentMessage !== \"\") {\r\n\t\t\tconst messageData = {\r\n\t\t\t\troom: room,\r\n\t\t\t\tauthor: username,\r\n\t\t\t\tmessage: currentMessage,\r\n\t\t\t\ttime: `${new Date(Date.now()).getHours()}:${new Date(\r\n\t\t\t\t\tDate.now()\r\n\t\t\t\t).getHours()}`,\r\n\t\t\t};\r\n\r\n\t\t\tawait socket.emit(\"send_message\", messageData);\r\n\t\t\tsetMessageList((list) => [...list, messageData]);\r\n\t\t\tsetCurrentMessage(\"\");\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tsocket.on(\"receive_message\", (data) => {\r\n\t\t\tsetMessageList((list) => [...list, data]);\r\n\t\t});\r\n\r\n\t\tsocket.on(\"display_typing_status\", (data) => {\r\n\t\t\tif (data.typing === true) {\r\n\t\t\t\tsetStatus(`${data.user} is Typing...`);\r\n\t\t\t} else {\r\n\t\t\t\tsetStatus(\"\");\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn () => {\r\n\t\t\tsocket.off(\"receive_message\");\r\n\t\t\tsocket.off(\"display\");\r\n\t\t};\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className=\"chat-wrapper\">\r\n\t\t\t<div className=\"chat-header\">\r\n\t\t\t\t<h1 className=\"chat-heading\">\r\n\t\t\t\t\tLive Chat\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<span className=\"chat-typing-status\">{status}</span>\r\n\t\t\t\t</h1>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"chat-body\">\r\n\t\t\t\t<ScrollToBottom className=\"chat-body-inner\">\r\n\t\t\t\t\t{messageList.map((messageItem, index) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tkey={index.toString()}\r\n\t\t\t\t\t\t\t\tclassName={`message-wrapper ${\r\n\t\t\t\t\t\t\t\t\tusername === messageItem.author\r\n\t\t\t\t\t\t\t\t\t\t? \"you\"\r\n\t\t\t\t\t\t\t\t\t\t: \"other\"\r\n\t\t\t\t\t\t\t\t}`}>\r\n\t\t\t\t\t\t\t\t<article className=\"message\">\r\n\t\t\t\t\t\t\t\t\t{messageItem.message}\r\n\t\t\t\t\t\t\t\t</article>\r\n\t\t\t\t\t\t\t\t<div className=\"author-time\">\r\n\t\t\t\t\t\t\t\t\t{messageItem.time}{\" \"}\r\n\t\t\t\t\t\t\t\t\t<span>{messageItem.author}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t</ScrollToBottom>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"chat-footer\">\r\n\t\t\t\t<input\r\n\t\t\t\t\tplaceholder=\"Hey...\"\r\n\t\t\t\t\tvalue={currentMessage}\r\n\t\t\t\t\tonChange={(event) => {\r\n\t\t\t\t\t\tsetCurrentMessage(event.target.value);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonKeyPress={async (event) => {\r\n\t\t\t\t\t\tif (event.key === \"Enter\") {\r\n\t\t\t\t\t\t\tsendMessage();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonKeyDown={async (event) => {\r\n\t\t\t\t\t\tawait socket.emit(\"typing\", {\r\n\t\t\t\t\t\t\tuser: username,\r\n\t\t\t\t\t\t\troom: room,\r\n\t\t\t\t\t\t\ttyping: true,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonBlur={async (event) => {\r\n\t\t\t\t\t\tawait socket.emit(\"typing\", {\r\n\t\t\t\t\t\t\tuser: username,\r\n\t\t\t\t\t\t\troom: room,\r\n\t\t\t\t\t\t\ttyping: false,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<button onClick={sendMessage}>&#9658;</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Chat;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}